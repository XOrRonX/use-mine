{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Or\\\\Documents\\\\GitHub\\\\use-mine\\\\client\\\\src\\\\components\\\\Navbar.js\";\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../App\";\nimport M from \"materialize-css\";\n\nconst NavBar = () => {\n  const searchModel = useRef(null);\n  const [search, setSearch] = useState(\"\");\n  const [darkToggle, setDarkToggle] = useState(\"\");\n  const [postDetails, setPostDetails] = useState([]);\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const history = useHistory();\n  useEffect(() => {\n    setDarkToggle('brightness_4');\n    let sidenav = document.querySelector(\".sidenav\");\n    M.Sidenav.init(sidenav, {});\n    M.Modal.init(searchModel.current);\n  }, []);\n\n  const darkMode = () => {\n    if (darkToggle === 'brightness_4') {\n      setDarkToggle('brightness_high');\n    } else {\n      setDarkToggle('brightness_4');\n    }\n\n    localStorage.setItem(\"mode\", (localStorage.getItem(\"mode\") || \"dark\") === \"dark\" ? \"light\" : \"dark\");\n    localStorage.getItem(\"mode\") === \"dark\" ? document.querySelector(\"body\").classList.add(\"dark\") : document.querySelector(\"body\").classList.remove(\"dark\");\n  };\n\n  const renderList = () => {\n    if (state) {\n      return [/*#__PURE__*/React.createElement(\"li\", {\n        key: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/profile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }\n      }, \"\\u05D0\\u05D6\\u05D5\\u05E8 \\u05D0\\u05D9\\u05E9\\u05D9\")), /*#__PURE__*/React.createElement(\"li\", {\n        key: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"\",\n        \"data-target\": \"modal1\",\n        className: \"modal-trigger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }\n      }, \"\\u05D7\\u05E4\\u05E9 \\u05DE\\u05D5\\u05E6\\u05E8\")), /*#__PURE__*/React.createElement(\"li\", {\n        key: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/create\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }\n      }, \"\\u05E4\\u05E8\\u05E1\\u05DD \\u05DE\\u05D5\\u05E6\\u05E8\")), /*#__PURE__*/React.createElement(\"li\", {\n        key: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn waves-effect\",\n        onClick: () => {\n          localStorage.clear();\n          dispatch({\n            type: \"CLEAR\"\n          });\n          history.push(\"/signin\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }\n      }, \"\\u05D4\\u05EA\\u05E0\\u05EA\\u05E7\")), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        id: \"dark-toggle\",\n        class: \"btn dark-toggle\",\n        onClick: () => {\n          darkMode();\n        },\n        title: \"Dark/light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, darkToggle), \"Dark Mode\"))];\n    } else {\n      return [/*#__PURE__*/React.createElement(\"li\", {\n        key: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/signin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }, \"\\u05DB\\u05E0\\u05D9\\u05E1\\u05D4 \\u05DC\\u05D7\\u05E9\\u05D1\\u05D5\\u05DF\")), /*#__PURE__*/React.createElement(\"li\", {\n        key: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }, \"\\u05D4\\u05D9\\u05E8\\u05E9\\u05DD\")), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        id: \"dark-toggle\",\n        class: \"btn dark-toggle\",\n        onClick: () => {\n          darkMode();\n        },\n        title: \"Dark/light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }\n      }, darkToggle), \"Dark Mode\"))];\n    }\n  };\n\n  const fetchPosts = query => {\n    setSearch(query);\n    fetch(\"/search-post\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        query\n      })\n    }).then(res => res.json()).then(result => {\n      setPostDetails(result.post);\n      console.log(result);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-wrapper blue-grey darken-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: state ? \"/\" : \"/signin\",\n    className: \"brand-logo right\",\n    style: {\n      marginRight: \"3%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: \"90px\"\n    },\n    src: \"https://res.cloudinary.com/dyiceswks/image/upload/v1618057929/UseMine_znnhow.png\",\n    alt: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    className: \"sidenav-trigger\",\n    \"data-target\": \"mobile-links\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, \"menu\")), /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"nav-mobile\",\n    className: \"left hide-on-med-and-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, renderList()), /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"mobile-links\",\n    className: \"sidenav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, renderList())), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"modal1\",\n    className: \"modal\",\n    ref: searchModel,\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"\\u05D7\\u05E4\\u05E9 \\u05DE\\u05D5\\u05E6\\u05E8\",\n    value: search,\n    onChange: e => fetchPosts(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, postDetails.map(item => {\n    return /*#__PURE__*/React.createElement(Link, {\n      key: item._id,\n      className: \"collection-items\",\n      to: \"/profile/\" + item.postedBy,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        width: \"80px\",\n        height: \"80px\",\n        borderRadius: \"0px\",\n        margin: \"7px\"\n      },\n      src: item.photo,\n      alt: \"\",\n      className: \"circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#!\",\n      className: \"collection-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 19\n      }\n    }, item.title));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"modal-close waves-effect waves-green btn-flat\",\n    onClick: () => setSearch(\"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, \"\\u05E1\\u05D2\\u05D5\\u05E8\"))));\n};\n\nexport default NavBar;","map":{"version":3,"sources":["C:/Users/Or/Documents/GitHub/use-mine/client/src/components/Navbar.js"],"names":["React","useContext","useEffect","useRef","useState","Link","useHistory","UserContext","M","NavBar","searchModel","search","setSearch","darkToggle","setDarkToggle","postDetails","setPostDetails","state","dispatch","history","sidenav","document","querySelector","Sidenav","init","Modal","current","darkMode","localStorage","setItem","getItem","classList","add","remove","renderList","clear","type","push","fetchPosts","query","fetch","method","headers","body","JSON","stringify","then","res","json","result","post","console","log","marginRight","width","color","e","target","value","map","item","_id","postedBy","height","borderRadius","margin","photo","title"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\nimport M from \"materialize-css\";\r\n\r\nconst NavBar = () => {\r\n  const searchModel = useRef(null);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [darkToggle, setDarkToggle] = useState(\"\");\r\n  const [postDetails, setPostDetails] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    setDarkToggle('brightness_4');\r\n    let sidenav = document.querySelector(\".sidenav\");\r\n    M.Sidenav.init(sidenav, {});\r\n    M.Modal.init(searchModel.current);\r\n  }, []);\r\n\r\n  const darkMode = () => {\r\n    if (darkToggle === 'brightness_4') {\r\n      setDarkToggle('brightness_high');\r\n    } else {\r\n      setDarkToggle('brightness_4');\r\n    }\r\n    localStorage.setItem(\r\n      \"mode\",\r\n      (localStorage.getItem(\"mode\") || \"dark\") === \"dark\" ? \"light\" : \"dark\"\r\n    );\r\n    localStorage.getItem(\"mode\") === \"dark\"\r\n      ? document.querySelector(\"body\").classList.add(\"dark\")\r\n      : document.querySelector(\"body\").classList.remove(\"dark\");\r\n  };\r\n\r\n  const renderList = () => {\r\n    if (state) {\r\n      return [\r\n        <li  key={1}>\r\n          <Link to=\"/profile\">אזור אישי</Link>\r\n        </li>,\r\n        <li  key={2}>\r\n          <Link to=\"\" data-target=\"modal1\" className=\"modal-trigger\">\r\n            חפש מוצר\r\n          </Link>\r\n        </li>,\r\n        <li  key={3}>\r\n          <Link to=\"/create\">פרסם מוצר</Link>\r\n        </li>,\r\n        <li  key={4}>\r\n          <button\r\n            className=\"btn waves-effect\"\r\n            \r\n            onClick={() => {\r\n              localStorage.clear();\r\n              dispatch({ type: \"CLEAR\" });\r\n              history.push(\"/signin\");\r\n            }}\r\n          >\r\n            התנתק\r\n          </button>\r\n        </li>,\r\n        <li>\r\n          \r\n          <a\r\n            id=\"dark-toggle\"\r\n            class=\"btn dark-toggle\"\r\n            onClick={() => {\r\n              darkMode();\r\n            }}\r\n            title=\"Dark/light\"\r\n          >\r\n            <i class=\"material-icons left\">{darkToggle}</i>Dark Mode</a>\r\n        </li>,\r\n      ];\r\n    } else {\r\n      return [\r\n        <li key={4}>\r\n          <Link to=\"/signin\">כניסה לחשבון</Link>\r\n        </li>,\r\n        <li key={5}>\r\n          <Link to=\"/signup\">הירשם</Link>\r\n        </li>,\r\n        <li>\r\n          \r\n        <a\r\n          id=\"dark-toggle\"\r\n          class=\"btn dark-toggle\"\r\n          onClick={() => {\r\n            darkMode();\r\n          }}\r\n          title=\"Dark/light\"\r\n        >\r\n          <i class=\"material-icons left\">{darkToggle}</i>Dark Mode</a>\r\n      </li>\r\n      ];\r\n    }\r\n  };\r\n\r\n  const fetchPosts = (query) => {\r\n    setSearch(query);\r\n    fetch(\"/search-post\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        query,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPostDetails(result.post);\r\n        console.log(result);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper blue-grey darken-1\">\r\n        <Link\r\n          to={state ? \"/\" : \"/signin\"}\r\n          className=\"brand-logo right\"\r\n          style={{ marginRight: \"3%\" }}\r\n        >\r\n          <img style={{width:\"90px\"}} src=\"https://res.cloudinary.com/dyiceswks/image/upload/v1618057929/UseMine_znnhow.png\" alt=\"_blank\" ></img>\r\n        </Link>\r\n        <a href=\"#\" className=\"sidenav-trigger\" data-target=\"mobile-links\">\r\n          <i className=\"material-icons\">menu</i>\r\n        </a>\r\n        <ul id=\"nav-mobile\" className=\"left hide-on-med-and-down\">\r\n          {renderList()}\r\n        </ul>\r\n        <ul id=\"mobile-links\" className=\"sidenav\">\r\n          {renderList()}\r\n        </ul>\r\n      </div>\r\n\r\n      <div\r\n        id=\"modal1\"\r\n        className=\"modal\"\r\n        ref={searchModel}\r\n        style={{ color: \"black\" }}\r\n      >\r\n        <div className=\"modal-content\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"חפש מוצר\"\r\n            value={search}\r\n            onChange={(e) => fetchPosts(e.target.value)}\r\n          />\r\n          <div className=\"collection\">\r\n            {postDetails.map((item) => {\r\n              return (\r\n                <Link\r\n                  key={item._id}\r\n                  className=\"collection-items\"\r\n                  to={\"/profile/\" + item.postedBy}\r\n                >\r\n                  <img\r\n                    style={{\r\n                      width: \"80px\",\r\n                      height: \"80px\",\r\n                      borderRadius: \"0px\",\r\n                      margin: \"7px\",\r\n                    }}\r\n                    src={item.photo}\r\n                    alt=\"\"\r\n                    className=\"circle\"\r\n                  />\r\n                  <a href=\"#!\" className=\"collection-item\">\r\n                    {item.title}\r\n                  </a>\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <button\r\n            className=\"modal-close waves-effect waves-green btn-flat\"\r\n            onClick={() => setSearch(\"\")}\r\n          >\r\n            סגור\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n"]},"metadata":{},"sourceType":"module"}