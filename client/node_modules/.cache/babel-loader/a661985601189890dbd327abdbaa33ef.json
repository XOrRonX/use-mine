{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Or\\\\Documents\\\\GitHub\\\\use-mine\\\\client\\\\src\\\\components\\\\screens\\\\PaymentSuccess.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { UserContext } from \"../../App\";\nimport M from \"materialize-css\";\nimport { useParams, useLocation } from \"react-router-dom\";\n\nconst PaymentSuccess = () => {\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  let location = useLocation();\n\n  function getParameterByName(name, url) {\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return \"\";\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n  }\n\n  useEffect(() => {\n    console.log(state);\n\n    if (state) {\n      const paymentId = getParameterByName(\"paymentId\", location.search);\n      const PayerID = getParameterByName(\"PayerID\", location.search);\n      fetch(`/success/${state._id}`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          paymentId,\n          PayerID\n        })\n      }).then(res => res.json()).then(result => {\n        if (result) {\n          console.log(result);\n        } else {\n          console.log(result);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [state]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card center\",\n    style: {\n      direction: \"rtl\",\n      textAlign: \"center\",\n      margin: \"0 auto\",\n      float: \"none\",\n      marginBottom: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s12 m5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"white-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"light-green-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"\\u05D4\\u05EA\\u05E9\\u05DC\\u05D5\\u05DD \\u05D1\\u05D5\\u05E6\\u05E2 \\u05D1\\u05D4\\u05E6\\u05DC\\u05D7\\u05D4\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"black-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"\\u05EA\\u05D5\\u05D3\\u05D4 \\u05DC\\u05DA! \\u05D4\\u05EA\\u05E9\\u05DC\\u05D5\\u05DD \\u05D1\\u05D5\\u05E6\\u05E2 \\u05D1\\u05D4\\u05E6\\u05DC\\u05D7\\u05D4!\"), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: \"10%\"\n    },\n    \"data-src\": \"/images/payment/success.gif\",\n    src: \"https://fcs3pub.s3.amazonaws.com/photo-book/images/payment/success.gif\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 1\n    }\n  })))));\n};\n\nexport default PaymentSuccess;","map":{"version":3,"sources":["C:/Users/Or/Documents/GitHub/use-mine/client/src/components/screens/PaymentSuccess.js"],"names":["React","useEffect","useState","useContext","UserContext","M","useParams","useLocation","PaymentSuccess","state","dispatch","location","getParameterByName","name","url","replace","regex","RegExp","results","exec","decodeURIComponent","console","log","paymentId","search","PayerID","fetch","_id","method","headers","body","JSON","stringify","then","res","json","result","catch","err","direction","textAlign","margin","float","marginBottom","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\nimport M from \"materialize-css\";\r\nimport {\r\n  useParams,\r\n  useLocation,\r\n} from \"react-router-dom\";\r\n\r\nconst PaymentSuccess = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  let location = useLocation();\r\n\r\n  function getParameterByName(name, url) {\r\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\r\n      results = regex.exec(url);\r\n    if (!results) return null;\r\n    if (!results[2]) return \"\";\r\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n  }\r\n\r\n  useEffect(() => {\r\n      console.log(state)\r\n    if (state) {\r\n      const paymentId = getParameterByName(\"paymentId\", location.search);\r\n      const PayerID = getParameterByName(\"PayerID\", location.search);\r\n      fetch(`/success/${state._id}`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          paymentId,\r\n          PayerID,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (result) {\r\n            console.log(result);\r\n          } else {\r\n            console.log(result);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [state]);\r\n\r\n  return (\r\n  \r\n\r\n<div className=\"card center\" style={{direction:\"rtl\", textAlign: \"center\", margin: \"0 auto\", float: \"none\", marginBottom: \"10px\"}}>\r\n    <div className=\"col s12 m5\">\r\n      <div className=\"card-panel\">\r\n        <span className=\"white-text\">\r\n        <h4 className=\"light-green-text\" >התשלום בוצע בהצלחה</h4>\r\n        <p className=\"black-text\">תודה לך!\r\nהתשלום בוצע בהצלחה!\r\n\r\n</p>\r\n<img style={{width: \"10%\"}} data-src=\"/images/payment/success.gif\" src=\"https://fcs3pub.s3.amazonaws.com/photo-book/images/payment/success.gif\"></img>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  );\r\n};\r\n\r\nexport default PaymentSuccess;\r\n"]},"metadata":{},"sourceType":"module"}