{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Or\\\\MernStackProject (1)\\\\MernStackProject\\\\client\\\\src\\\\components\\\\screens\\\\Reset.js\";\nimport React, { useState, useContext } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport M from 'materialize-css';\n\nconst Reset = () => {\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n\n  const PostData = () => {\n    if (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\n      M.toast({\n        html: \"אימייל לא תקין\",\n        classes: \"#b71c1c red darken-4\"\n      });\n      return;\n    }\n\n    fetch(\"/reset-password\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email\n      })\n    }).then(res => res.json()).then(data => {\n      if (data.error) {\n        M.toast({\n          html: data.error,\n          classes: \"#b71c1c red darken-4\"\n        });\n      } else {\n        M.toast({\n          html: data.message,\n          classes: \"#689f38 light-green darken-2\"\n        });\n        history.push('/signin');\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mycard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card auth-card \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"Use Mine!\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn waves-effect  light-blue darken-4\",\n    onClick: () => PostData(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, \"\\u05D0\\u05E4\\u05E1 \\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\")));\n};\n\nexport default Reset;","map":{"version":3,"sources":["C:/Users/Or/MernStackProject (1)/MernStackProject/client/src/components/screens/Reset.js"],"names":["React","useState","useContext","useHistory","M","Reset","history","email","setEmail","PostData","test","toast","html","classes","fetch","method","headers","body","JSON","stringify","then","res","json","data","error","message","push","catch","err","console","log","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,CAAP,MAAc,iBAAd;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AACA,QAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMQ,QAAQ,GAAG,MAAK;AACpB,QAAG,CAAC,yJAAyJC,IAAzJ,CAA8JH,KAA9J,CAAJ,EAAyK;AACvKH,MAAAA,CAAC,CAACO,KAAF,CAAQ;AAACC,QAAAA,IAAI,EAAE,gBAAP;AAAyBC,QAAAA,OAAO,EAAC;AAAjC,OAAR;AACA;AACD;;AACDC,IAAAA,KAAK,CAAC,iBAAD,EAAmB;AACtBC,MAAAA,MAAM,EAAC,MADe;AAEtBC,MAAAA,OAAO,EAAC;AACN,wBAAe;AADT,OAFc;AAMtBC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAClBZ,QAAAA;AADkB,OAAf;AANiB,KAAnB,CAAL,CASGa,IATH,CASQC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EATb,EAUCF,IAVD,CAUMG,IAAI,IAAE;AACV,UAAGA,IAAI,CAACC,KAAR,EAAc;AACZpB,QAAAA,CAAC,CAACO,KAAF,CAAQ;AAACC,UAAAA,IAAI,EAAEW,IAAI,CAACC,KAAZ;AAAmBX,UAAAA,OAAO,EAAC;AAA3B,SAAR;AACD,OAFD,MAEO;AACLT,QAAAA,CAAC,CAACO,KAAF,CAAQ;AAACC,UAAAA,IAAI,EAACW,IAAI,CAACE,OAAX;AAAoBZ,UAAAA,OAAO,EAAC;AAA5B,SAAR;AACAP,QAAAA,OAAO,CAACoB,IAAR,CAAa,SAAb;AACD;AACF,KAjBD,EAiBGC,KAjBH,CAiBSC,GAAG,IAAE;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAnBD;AAoBD,GAzBD;;AA0BA,sBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,WAAW,EAAC,sCAA/B;AAAwC,IAAA,KAAK,EAAErB,KAA/C;AAAsD,IAAA,QAAQ,EAAGwB,CAAD,IAAKvB,QAAQ,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAQ,IAAA,SAAS,EAAC,uCAAlB;AAA0D,IAAA,OAAO,EAAE,MAAIxB,QAAQ,EAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDAHF,CADF,CADF;AASD,CAvCD;;AAyCA,eAAeJ,KAAf","sourcesContent":["import React, { useState, useContext } from \"react\"\r\nimport {useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\nconst Reset = () => {\r\n  const history = useHistory()\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const PostData = () =>{\r\n    if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n      M.toast({html: \"אימייל לא תקין\", classes:\"#b71c1c red darken-4\"})\r\n      return\r\n    }\r\n    fetch(\"/reset-password\",{\r\n      method:\"post\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\"\r\n        \r\n      },\r\n      body:JSON.stringify({\r\n        email\r\n      })\r\n    }).then(res=>res.json())\r\n    .then(data=>{\r\n      if(data.error){\r\n        M.toast({html: data.error, classes:\"#b71c1c red darken-4\"})\r\n      } else {\r\n        M.toast({html:data.message, classes:\"#689f38 light-green darken-2\"})\r\n        history.push('/signin')\r\n      }\r\n    }).catch(err=>{\r\n      console.log(err)\r\n    })\r\n  }\r\n  return (\r\n    <div className=\"mycard\">\r\n      <div className=\"card auth-card \">\r\n        <h2>Use Mine!</h2>\r\n        <input type=\"text\" placeholder=\"אימייל\" value={email} onChange={(e)=>setEmail(e.target.value)}/>\r\n        <button className=\"btn waves-effect  light-blue darken-4\" onClick={()=>PostData()}>אפס סיסמא</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reset;"]},"metadata":{},"sourceType":"module"}