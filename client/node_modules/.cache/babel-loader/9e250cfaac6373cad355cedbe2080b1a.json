{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Or\\\\MernStackProject (1)\\\\MernStackProject\\\\client\\\\src\\\\components\\\\screens\\\\Profile.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { UserContext } from '../../App';\nimport M from 'materialize-css';\nimport { useHistory } from \"react-router-dom\";\n\nconst Profile = () => {\n  const [mypics, setPics] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [url, setUrl] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const history = useHistory();\n  const {\n    state,\n    dispatch\n  } = JSON.parse(JSON.stringify(useContext(UserContext)));\n  useEffect(() => {\n    fetch('/mypost', {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json()).then(result => {\n      setPics(result.mypost);\n    });\n  }, []);\n  useEffect(() => {\n    fetch('/mycart', {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json()).then(result => {\n      console.log(result.cart);\n      setCart(result.cart);\n    });\n  }, []);\n  useEffect(() => {\n    if (url) {\n      fetch(`/profileimage/${state._id}`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n        },\n        body: JSON.stringify({\n          pic: url\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.error) {\n          M.toast({\n            html: data.error,\n            classes: \"#b71c1c red darken-4\"\n          });\n        } else {\n          uploadImage();\n          M.toast({\n            html: \"תמונת פרופיל הועלתה בהצלחה\",\n            classes: \"#689f38 light-green darken-2\"\n          });\n        }\n      }).catch(err => {\n        console.log(\"hey\");\n      });\n    }\n  }, [url]);\n\n  const dashboard = () => {\n    let sidenav = document.querySelector('#slide-out');\n    var instance = M.Sidenav.init(sidenav, {});\n    instance.open();\n    console.log(state);\n  };\n\n  const goProfile = () => {\n    let sidenav = document.querySelector('#slide-out');\n    var instance = M.Sidenav.init(sidenav, {});\n    instance.close();\n  };\n\n  const removeItem = item => {\n    console.log(\"hit removeItem\");\n    fetch(`/removeitem/${state._id}`, {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        item\n      })\n    }).then(res => res.json()).then(data => {\n      if (data.error) {\n        M.toast({\n          html: data.error,\n          classes: \"#b71c1c red darken-4\"\n        });\n      } else {\n        M.toast({\n          html: \"המוצר הוסר מעגלת המוצרים\",\n          classes: \"#689f38 light-green darken-2\"\n        });\n        console.log(\"-----------------------\");\n        const newCart = cart.filter(item => {\n          console.log(item);\n        });\n        console.log(\"-----------------------\");\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const uploadImage = image => {\n    setImage(image);\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"mern-stack-project\");\n    data.append(\"cloud_name\", \"dyiceswks\");\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const cloudinaryURL = \"https://api.cloudinary.com/v1_1/dyiceswks/image/upload\";\n    fetch(proxyurl + cloudinaryURL, {\n      method: \"post\",\n      body: data\n    }).then(res => res.json()).then(data => {\n      setUrl(data.url);\n      console.log(url);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: \"850px\",\n      margin: \"0px auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\",\n      margin: \"18px 0px\",\n      borderBottom: \"1px solid grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"file-field input-field add-profile-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-floating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, \"add\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: e => uploadImage(e.target.files[0]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: \"180px\",\n      height: \"180px\",\n      borderRadius: \"90px\"\n    },\n    src: state ? state.photo : \"https://www.pngkit.com/png/detail/281-2812821_user-account-management-logo-user-icon-png.png\",\n    alt: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, state ? state.name : \"loading\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"108%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, \"46 Rank\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, \"30 followers\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"70 following\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      dashboard();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      margin: \"2%\"\n    },\n    className: \"btn waves-effect waves-light\",\n    type: \"submit\",\n    name: \"action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, \"\\u05E4\\u05E2\\u05D5\\u05DC\\u05D5\\u05EA \\u05E0\\u05D5\\u05E1\\u05E4\\u05D5\\u05EA\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapsible-header right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, \"filter_drama\"), \"\\u05D4\\u05DE\\u05D5\\u05E6\\u05E8\\u05D9\\u05DD \\u05E9\\u05DC\\u05D9\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"new badge green\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, mypics.length)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapsible-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 41\n    }\n  }, \"Lorem ipsum dolor sit amet.\")), /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"slide-out\",\n    className: \"sidenav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: state ? state.photo : \"https://www.pngkit.com/png/detail/281-2812821_user-account-management-logo-user-icon-png.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"circle\",\n    src: state ? state.photo : \"https://www.pngkit.com/png/detail/281-2812821_user-account-management-logo-user-icon-png.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"white-text name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 27\n    }\n  }, state ? state.name : \"loading\")), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"white-text email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 28\n    }\n  }, state ? state.email : \"loading\")))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 28\n    }\n  }, \"home\"), \"\\u05D1\\u05D9\\u05EA\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    onClick: goProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 48\n    }\n  }, \"person_pin\"), \"\\u05E4\\u05E8\\u05D5\\u05E4\\u05D9\\u05DC \\u05D0\\u05D9\\u05E9\\u05D9\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    onClick: goProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 49\n    }\n  }, \"shopping_cart\"), \"\\u05E1\\u05DC \\u05DE\\u05D5\\u05E6\\u05E8\\u05D9\\u05DD\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }, mypics.map(item => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: item._id,\n      className: \"card profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-image waves-effect waves-block waves-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"activator\",\n      src: item.photo,\n      alt: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"card-title activator grey-text text-darken-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, item.title, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 96\n      }\n    }, \"more_vert\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: item.photo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 24\n      }\n    }, \"photo\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-reveal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"card-title grey-text text-darken-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, item.title, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 86\n      }\n    }, \"close\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }\n    }, item.body)));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\",\n      margin: \"18px 0px\",\n      borderBottom: \"1px solid grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapsible-header right \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, \"shopping_cart\"), \"\\u05E1\\u05DC \\u05DE\\u05D5\\u05E6\\u05E8\\u05D9\\u05DD\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"new badge green\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, cart.length)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapsible-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 41\n    }\n  }, \"Lorem ipsum dolor sit amet.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }\n  }, cart.map(item => {\n    if (item) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card profile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        class: \"btn-floating halfway-fab waves-effect waves-light red absolute\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        onClick: () => {\n          removeItem(item);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }\n      }, \"remove\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-image waves-effect waves-block waves-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"activator\",\n        src: item.photo,\n        alt: item.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"card-title activator grey-text text-darken-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }\n      }, item.title, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"material-icons right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 96\n        }\n      }, \"more_vert\")), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: item.photo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 24\n        }\n      }, \"photo\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-reveal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"card-title grey-text text-darken-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }\n      }, item.title, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"material-icons right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 86\n        }\n      }, \"close\")), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }\n      }, item.body)));\n    } else {\n      return \"\";\n    }\n  })));\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/Or/MernStackProject (1)/MernStackProject/client/src/components/screens/Profile.js"],"names":["React","useEffect","useState","useContext","UserContext","M","useHistory","Profile","mypics","setPics","cart","setCart","url","setUrl","image","setImage","history","state","dispatch","JSON","parse","stringify","fetch","headers","localStorage","getItem","then","res","json","result","mypost","console","log","_id","method","body","pic","data","error","toast","html","classes","uploadImage","catch","err","dashboard","sidenav","document","querySelector","instance","Sidenav","init","open","goProfile","close","removeItem","item","newCart","filter","FormData","append","proxyurl","cloudinaryURL","maxWidth","margin","display","justifyContent","borderBottom","e","target","files","width","height","borderRadius","photo","name","preventDefault","length","email","map","title"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useContext} from \"react\";\r\nimport {UserContext} from '../../App'\r\nimport M from 'materialize-css'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Profile = () => {\r\n  const [mypics,setPics] = useState([])\r\n  const [cart,setCart] = useState([]) \r\n  const [url, setUrl] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const history = useHistory();\r\n  const {state,dispatch} = JSON.parse(JSON.stringify(useContext(UserContext))) \r\n  useEffect(()=>{\r\n    fetch('/mypost',{\r\n      headers:{\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      }\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n      setPics(result.mypost)\r\n    })\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    fetch('/mycart',{\r\n      headers:{\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      }\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n      console.log(result.cart)\r\n      setCart(result.cart)\r\n    })\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      fetch(`/profileimage/${state._id}`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        },\r\n        body: JSON.stringify({\r\n          pic: url,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.error) {\r\n            M.toast({ html: data.error, classes: \"#b71c1c red darken-4\" });\r\n          } else {\r\n            uploadImage();\r\n            M.toast({\r\n              html: \"תמונת פרופיל הועלתה בהצלחה\",\r\n              classes: \"#689f38 light-green darken-2\",\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"hey\");\r\n        });\r\n    }\r\n  }, [url]);\r\n\r\n  const dashboard = () =>{\r\n    let sidenav = document.querySelector('#slide-out');\r\n    var instance = M.Sidenav.init(sidenav, {});\r\n    instance.open()\r\n    console.log(state)\r\n  }\r\n\r\n  const goProfile = () => {\r\n    let sidenav = document.querySelector('#slide-out');\r\n    var instance = M.Sidenav.init(sidenav, {});\r\n    instance.close()\r\n  }\r\n\r\n  const removeItem = item => {\r\n    console.log(\"hit removeItem\")\r\n    fetch(`/removeitem/${state._id}`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        item\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: \"#b71c1c red darken-4\" });\r\n        } else {\r\n          M.toast({\r\n            html: \"המוצר הוסר מעגלת המוצרים\",\r\n            classes: \"#689f38 light-green darken-2\",\r\n          });\r\n          console.log(\"-----------------------\")\r\n          const newCart = cart.filter(item=>{\r\n            console.log(item)\r\n          })\r\n          console.log(\"-----------------------\")\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const uploadImage = (image) => {\r\n    setImage(image);\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"mern-stack-project\");\r\n    data.append(\"cloud_name\", \"dyiceswks\");\r\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n    const cloudinaryURL = \"https://api.cloudinary.com/v1_1/dyiceswks/image/upload\";\r\n    fetch(proxyurl + cloudinaryURL, {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.url);\r\n        console.log(url)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  \r\n  return (\r\n    <div style={{ maxWidth:\"850px\",margin:\"0px auto\" }}>\r\n      <div style={{\r\n        display:\"flex\",\r\n        justifyContent:\"space-around\",\r\n        margin:\"18px 0px\",\r\n        borderBottom:\"1px solid grey\"\r\n      }}>\r\n        <div>\r\n          <form  action=\"#\">\r\n            <div  className=\"file-field input-field add-profile-image\">\r\n              <div className=\"btn-floating\">\r\n              <i className=\"material-icons\">add</i>\r\n                <input type=\"file\" onChange={(e) => uploadImage(e.target.files[0])}/>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <img style={{width:\"180px\",height:\"180px\",borderRadius:\"90px\"}} \r\n          src={state ? state.photo : \"https://www.pngkit.com/png/detail/281-2812821_user-account-management-logo-user-icon-png.png\"}\r\n          alt=\"_blank\"\r\n           /> \r\n        </div>\r\n        <div>\r\n          <h5>{state ? state.name : \"loading\"}</h5>\r\n          <div style={{display:\"flex\",justifyContent:\"space-between\", width:\"108%\"}}>\r\n            <h6>46 Rank</h6>\r\n            <h6>30 followers</h6>\r\n            <h6>70 following</h6>\r\n          </div>\r\n          <form onSubmit={e=>{\r\n                e.preventDefault()\r\n                 dashboard()\r\n              }}>\r\n                <button style={{margin:\"2%\"}} className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">פעולות נוספות\r\n                </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div className=\"collapsible-header right\">\r\n            <i className=\"material-icons\">filter_drama</i>\r\n            המוצרים שלי\r\n            <span className=\"new badge green\">{mypics.length}</span></div>\r\n      <div className=\"collapsible-body\"><p>Lorem ipsum dolor sit amet.</p></div>\r\n\r\n      <ul id=\"slide-out\" className=\"sidenav\">\r\n        <li>\r\n          <div className=\"user-view\">\r\n          <div className=\"background\">\r\n            <img src={state ? state.photo : \"https://www.pngkit.com/png/detail/281-2812821_user-account-management-logo-user-icon-png.png\"}/>\r\n          </div>\r\n          <a href=\"#user\"><img className=\"circle\" src={state ? state.photo : \"https://www.pngkit.com/png/detail/281-2812821_user-account-management-logo-user-icon-png.png\"}/></a>\r\n          <a href=\"#name\"><span className=\"white-text name\">{state ? state.name : \"loading\"}</span></a>\r\n          <a href=\"#email\"><span className=\"white-text email\">{state ? state.email : \"loading\"}</span></a>\r\n        </div>\r\n        </li>\r\n          <li><a href=\"#!\"><i className=\"material-icons\">home</i>בית</a></li>\r\n          <li><a href=\"#!\" onClick={goProfile}><i className=\"material-icons\">person_pin</i>פרופיל אישי</a></li>\r\n          <li><a href=\"#!\" onClick={goProfile} ><i className=\"material-icons\">shopping_cart</i>סל מוצרים</a></li>\r\n      </ul>\r\n      \r\n      <div className=\"gallery\">\r\n        {\r\n          mypics.map(item=>{\r\n            return(\r\n              <div key={item._id} className=\"card profile\">\r\n                  <div className=\"card-image waves-effect waves-block waves-light\">\r\n                    <img className=\"activator\" src={item.photo} alt={item.title}/>\r\n                  </div>\r\n                  <div className=\"card-content\">\r\n                    <span className=\"card-title activator grey-text text-darken-4\">{item.title}<i className=\"material-icons right\">more_vert</i></span>\r\n                    <p><a href={item.photo}>photo</a></p>\r\n                  </div>\r\n                  <div className=\"card-reveal\">\r\n                    <span className=\"card-title grey-text text-darken-4\">{item.title}<i className=\"material-icons right\">close</i></span>\r\n                    <p>{item.body}</p>\r\n                  </div>\r\n                </div>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n      <div style={{\r\n        display:\"flex\",\r\n        justifyContent:\"space-around\",\r\n        margin:\"18px 0px\",\r\n        borderBottom:\"1px solid grey\"\r\n      }}></div>\r\n\r\n      <div className=\"collapsible-header right \">\r\n            <i className=\"material-icons\">shopping_cart</i>\r\n            סל מוצרים\r\n            <span className=\"new badge green\">{cart.length}</span></div>\r\n      <div className=\"collapsible-body\"><p>Lorem ipsum dolor sit amet.</p></div>\r\n\r\n\r\n      <div className=\"gallery\">\r\n        {\r\n          cart.map(item=>{ \r\n            if(item){\r\n              return(\r\n                <div className=\"card profile\">\r\n                  <a class=\"btn-floating halfway-fab waves-effect waves-light red absolute\">\r\n                    <i class=\"material-icons\" onClick={()=>{removeItem(item)}}>\r\n                      remove\r\n                    </i>\r\n                  </a>\r\n                  <div className=\"card-image waves-effect waves-block waves-light\">\r\n                    <img className=\"activator\" src={item.photo} alt={item.title}/>\r\n                  </div>\r\n                  <div className=\"card-content\">\r\n                    <span className=\"card-title activator grey-text text-darken-4\">{item.title}<i className=\"material-icons right\">more_vert</i></span>\r\n                    <p><a href={item.photo}>photo</a></p>\r\n                  </div>\r\n                  <div className=\"card-reveal\">\r\n                    <span className=\"card-title grey-text text-darken-4\">{item.title}<i className=\"material-icons right\">close</i></span>\r\n                    <p>{item.body}</p>\r\n                  </div>\r\n                </div>\r\n              ) \r\n            } else {\r\n              return \"\";\r\n            }\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}