{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Or\\\\Documents\\\\GitHub\\\\use-mine\\\\client\\\\src\\\\components\\\\screens\\\\Profile.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { UserContext } from \"../../App\";\nimport M from \"materialize-css\";\n\nconst Profile = () => {\n  const [mypics, setPics] = useState([]);\n  const [cart, setCart] = useState([]);\n  let [sum, setSum] = useState(Number);\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  useEffect(() => {\n    setSum(0);\n    var elems = document.querySelector(\"#collapsible\");\n    M.Collapsible.init(elems, {});\n    var elem = document.querySelector(\".tabs\");\n    M.Tabs.init(elem, {});\n    fetch(\"/mypost\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json()).then(result => {\n      setPics(result.mypost);\n    });\n  }, []);\n  useEffect(() => {\n    fetch(\"/mycart\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json()).then(result => {\n      var total = 0;\n      result.cart.map(item => {\n        total += item ? item.price : 0;\n      });\n      setSum(total);\n      setCart(result.cart);\n    });\n  }, []);\n\n  const removeItem = item => {\n    fetch(`/removeitem/${state._id}`, {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        item\n      })\n    }).then(res => res.json()).then(data => {\n      if (data.error) {\n        M.toast({\n          html: data.error,\n          classes: \"#b71c1c red darken-4\"\n        });\n      } else {\n        M.toast({\n          html: \"המוצר הוסר מעגלת המוצרים\",\n          classes: \"#689f38 light-green darken-2\"\n        });\n        const newCart = cart.filter(item => {\n          return item._id !== data;\n        });\n        setCart(newCart);\n        var total = 0;\n        newCart.map(item => {\n          total += item.price;\n        });\n        setSum(total);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const pay = () => {\n    setLoader(\"indeterminate\");\n    fetch(`/pay/${state._id}`, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => res.json()).then(result => {\n      console.log(result);\n\n      if (result.status === \"Success\") {\n        window.location = result.redirect;\n      } else {\n        console.log(result);\n      }\n\n      setLoader(\"determinate\");\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const uploadImage = image => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"mern-stack-project\");\n    data.append(\"cloud_name\", \"dyiceswks\");\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const cloudinaryURL = \"https://api.cloudinary.com/v1_1/dyiceswks/image/upload\";\n    fetch(cloudinaryURL, {\n      method: \"post\",\n      body: data\n    }).then(res => res.json()).then(data => {\n      fetch(\"/updatephoto\", {\n        method: \"put\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n        },\n        body: JSON.stringify({\n          photo: data.url\n        })\n      }).then(res => res.json()).then(result => {\n        console.log(result);\n        localStorage.setItem(\"user\", JSON.stringify({ ...state,\n          photo: result.photo\n        }));\n        dispatch({\n          type: \"UPDATEPHOTO\",\n          payload: result.photo\n        });\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: \"1000px\",\n      margin: \"0px auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\",\n      margin: \"18px 0px\",\n      borderBottom: \"1px solid grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"file-field input-field add-profile-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-floating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, \"add\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: e => uploadImage(e.target.files[0]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: \"180px\",\n      height: \"180px\",\n      borderRadius: \"90px\"\n    },\n    src: state ? state.photo : \"https://www.regionalsan.com/sites/main/files/imagecache/lightbox/main-images/vacant_placeholder.gif\",\n    alt: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }, state ? state.name : \"loading\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, \"46 posts\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, state ? state.rating ? state.rating.length : \"\" : \"0\", \" rating\", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, \"grade\")))), /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"tabs-swipe-demo\",\n    className: \"tabs tabs-fixed-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"tab col s3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"active\",\n    href: \"#test-swipe-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, \"\\u05D4\\u05DE\\u05D5\\u05E6\\u05E8\\u05D9\\u05DD \\u05E9\\u05DC\\u05D9\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"tab col s3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#test-swipe-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, \"\\u05E1\\u05DC \\u05DE\\u05D5\\u05E6\\u05E8\\u05D9\\u05DD\"))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"test-swipe-1\",\n    className: \"col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, mypics.map(item => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: item._id,\n      className: \"card profile hoverable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-image waves-effect waves-block waves-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"activator\",\n      src: item.photo,\n      alt: item.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"card-title activator\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 19\n      }\n    }, item.title, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    }, \"more_vert\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: item.photo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }\n    }, \"photo\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-reveal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 19\n      }\n    }, item.title, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, \"close\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 19\n      }\n    }, item.body)));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"test-swipe-2\",\n    className: \"col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-panel right black-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"collapsible\",\n    className: \"collapsible-header right \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  }, \"shopping_cart\"), \"\\u05E1\\u05DC \\u05DE\\u05D5\\u05E6\\u05E8\\u05D9\\u05DD\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"new badge green\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, cart.length)), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }, \"\\u05DE\\u05D7\\u05D9\\u05E8\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 17\n    }\n  }, \"\\u05E9\\u05DD \\u05D4\\u05DE\\u05D5\\u05E6\\u05E8\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, cart.map(item => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: cart.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 21\n      }\n    }, \"\\u20AA\", item ? item.price : 0), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }\n    }, item ? item.title : \"\"));\n  }))), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      direction: \"rtl\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }, \"\\u05E1\\u05D4\\\"\\u05DB \\u05DC\\u05EA\\u05E9\\u05DC\\u05D5\\u05DD: \\u20AA\", sum, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: loader === \"determinate\" ? \"\" : \"progress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn waves-effect  light-blue darken-4\",\n    onClick: () => pay(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 11\n    }\n  }, \"\\u05DE\\u05E2\\u05D1\\u05E8 \\u05DC\\u05EA\\u05E9\\u05DC\\u05D5\\u05DD\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 9\n    }\n  }, cart.map(item => {\n    if (item) {\n      sum += item.price;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card profile hoverable\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        class: \"btn-floating halfway-fab waves-effect waves-light red absolute\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        onClick: () => {\n          removeItem(item);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 21\n        }\n      }, \"remove\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-image waves-effect waves-block waves-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"activator\",\n        src: item.photo,\n        alt: item.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"card-title activator grey-text text-darken-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }\n      }, item.title, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"material-icons right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 23\n        }\n      }, \"more_vert\")), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: item.photo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 23\n        }\n      }, \"photo\")), /*#__PURE__*/React.createElement(\"h6\", {\n        style: {\n          float: \"left\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }\n      }, \"\\u20AA\", item.price ? item.price : 0)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-reveal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"card-title grey-text text-darken-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }\n      }, item.title, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"material-icons right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 23\n        }\n      }, \"close\")), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 21\n        }\n      }, item.body)));\n    } else {\n      return \"\";\n    }\n  }))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/Or/Documents/GitHub/use-mine/client/src/components/screens/Profile.js"],"names":["React","useEffect","useState","useContext","UserContext","M","Profile","mypics","setPics","cart","setCart","sum","setSum","Number","state","dispatch","elems","document","querySelector","Collapsible","init","elem","Tabs","fetch","headers","Authorization","localStorage","getItem","then","res","json","result","mypost","total","map","item","price","removeItem","_id","method","body","JSON","stringify","data","error","toast","html","classes","newCart","filter","catch","err","console","log","pay","setLoader","status","window","location","redirect","uploadImage","image","FormData","append","proxyurl","cloudinaryURL","photo","url","setItem","type","payload","maxWidth","margin","display","justifyContent","borderBottom","e","target","files","width","height","borderRadius","name","rating","length","title","id","direction","loader","float"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\nimport M from \"materialize-css\";\r\n\r\nconst Profile = () => {\r\n  const [mypics, setPics] = useState([]);\r\n  const [cart, setCart] = useState([]);\r\n  let [sum, setSum] = useState(Number);\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    setSum(0);\r\n    var elems = document.querySelector(\"#collapsible\");\r\n    M.Collapsible.init(elems, {});\r\n    var elem = document.querySelector(\".tabs\");\r\n    M.Tabs.init(elem, {});\r\n\r\n    fetch(\"/mypost\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPics(result.mypost);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/mycart\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        var total = 0;\r\n        result.cart.map((item) => {\r\n          total += item ? item.price : 0;\r\n        });\r\n        setSum(total);\r\n        setCart(result.cart);\r\n      });\r\n  }, []);\r\n\r\n  const removeItem = (item) => {\r\n    fetch(`/removeitem/${state._id}`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        item,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: \"#b71c1c red darken-4\" });\r\n        } else {\r\n          M.toast({\r\n            html: \"המוצר הוסר מעגלת המוצרים\",\r\n            classes: \"#689f38 light-green darken-2\",\r\n          });\r\n          const newCart = cart.filter((item) => {\r\n            return item._id !== data;\r\n          });\r\n          setCart(newCart);\r\n          var total = 0;\r\n          newCart.map((item) => {\r\n            total += item.price;\r\n          });\r\n          setSum(total);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const pay = () => {\r\n    setLoader(\"indeterminate\");\r\n    fetch(`/pay/${state._id}`, {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n        if (result.status === \"Success\") {\r\n          window.location = result.redirect;\r\n        } else {\r\n          console.log(result);\r\n        }\r\n        setLoader(\"determinate\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const uploadImage = (image) => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"mern-stack-project\");\r\n    data.append(\"cloud_name\", \"dyiceswks\");\r\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n    const cloudinaryURL =\r\n      \"https://api.cloudinary.com/v1_1/dyiceswks/image/upload\";\r\n    fetch(cloudinaryURL, {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        fetch(\"/updatephoto\", {\r\n          method: \"put\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n          },\r\n          body: JSON.stringify({\r\n            photo: data.url,\r\n          }),\r\n        })\r\n          .then((res) => res.json())\r\n          .then((result) => {\r\n            console.log(result);\r\n            localStorage.setItem(\r\n              \"user\",\r\n              JSON.stringify({ ...state, photo: result.photo })\r\n            );\r\n            dispatch({ type: \"UPDATEPHOTO\", payload: result.photo });\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"1000px\", margin: \"0px auto\" }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          margin: \"18px 0px\",\r\n          borderBottom: \"1px solid grey\",\r\n        }}\r\n      >\r\n        <div>\r\n          <form action=\"#\">\r\n            <div className=\"file-field input-field add-profile-image\">\r\n              <div className=\"btn-floating\">\r\n                <i className=\"material-icons\">add</i>\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={(e) => uploadImage(e.target.files[0])}\r\n                />\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <img\r\n            style={{ width: \"180px\", height: \"180px\", borderRadius: \"90px\" }}\r\n            src={\r\n              state\r\n                ? state.photo\r\n                : \"https://www.regionalsan.com/sites/main/files/imagecache/lightbox/main-images/vacant_placeholder.gif\"\r\n            }\r\n            alt=\"_blank\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <h5>{state ? state.name : \"loading\"}</h5>\r\n          <h6>46 posts</h6>\r\n          <h6>\r\n            {state ? (state.rating ? state.rating.length : \"\") : \"0\"} rating\r\n            <i className=\"material-icons\">grade</i>\r\n          </h6>\r\n        </div>\r\n      </div>\r\n\r\n      <ul id=\"tabs-swipe-demo\" className=\"tabs tabs-fixed-width\">\r\n        <li className=\"tab col s3\">\r\n          <a className=\"active\" href=\"#test-swipe-1\">\r\n            המוצרים שלי\r\n          </a>\r\n        </li>\r\n        <li className=\"tab col s3\">\r\n          <a href=\"#test-swipe-2\">סל מוצרים</a>\r\n        </li>\r\n      </ul>\r\n      <div id=\"test-swipe-1\" className=\"col s12\">\r\n        <div className=\"gallery\">\r\n          {mypics.map((item) => {\r\n            return (\r\n              <div key={item._id} className=\"card profile hoverable\">\r\n                <div className=\"card-image waves-effect waves-block waves-light\">\r\n                  <img\r\n                    className=\"activator\"\r\n                    src={item.photo}\r\n                    alt={item.title}\r\n                  />\r\n                </div>\r\n                <div className=\"card-content\">\r\n                  <span className=\"card-title activator\">\r\n                    {item.title}\r\n                    <i className=\"material-icons right\">more_vert</i>\r\n                  </span>\r\n                  <p>\r\n                    <a href={item.photo}>photo</a>\r\n                  </p>\r\n                </div>\r\n                <div className=\"card-reveal\">\r\n                  <span className=\"card-title\">\r\n                    {item.title}\r\n                    <i className=\"material-icons right\">close</i>\r\n                  </span>\r\n                  <p>{item.body}</p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div id=\"test-swipe-2\" className=\"col s12\">\r\n        <div className=\"card-panel right black-text\">\r\n          <div id=\"collapsible\" className=\"collapsible-header right \">\r\n            <i className=\"material-icons\">shopping_cart</i>\r\n            סל מוצרים\r\n            <span className=\"new badge green\">{cart.length}</span>\r\n          </div>\r\n          <table className=\"centered\">\r\n            <thead>\r\n              <tr>\r\n                <th>מחיר</th>\r\n                <th>שם המוצר</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {cart.map((item) => {\r\n                return (\r\n                  <tr key={cart.id}>\r\n                    <td>₪{item ? item.price : 0}</td>\r\n                    <td>{item ? item.title : \"\"}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n          <p style={{ direction: \"rtl\" }}>\r\n            סה\"כ לתשלום: ₪{sum}\r\n            <br />\r\n          </p>\r\n          <div className={loader === \"determinate\" ? \"\" : \"progress\"}>\r\n            <div className={loader}></div>\r\n          </div>\r\n          <button\r\n            className=\"btn waves-effect  light-blue darken-4\"\r\n            onClick={() => pay()}\r\n          >\r\n            מעבר לתשלום\r\n          </button>\r\n        </div>\r\n        <div className=\"gallery\">\r\n          {cart.map((item) => {\r\n            if (item) {\r\n              sum += item.price;\r\n              return (\r\n                <div className=\"card profile hoverable\">\r\n                  <a class=\"btn-floating halfway-fab waves-effect waves-light red absolute\">\r\n                    <i\r\n                      class=\"material-icons\"\r\n                      onClick={() => {\r\n                        removeItem(item);\r\n                      }}\r\n                    >\r\n                      remove\r\n                    </i>\r\n                  </a>\r\n                  <div className=\"card-image waves-effect waves-block waves-light\">\r\n                    <img\r\n                      className=\"activator\"\r\n                      src={item.photo}\r\n                      alt={item.title}\r\n                    />\r\n                  </div>\r\n                  <div className=\"card-content\">\r\n                    <span className=\"card-title activator grey-text text-darken-4\">\r\n                      {item.title}\r\n                      <i className=\"material-icons right\">more_vert</i>\r\n                    </span>\r\n                    <p>\r\n                      <a href={item.photo}>photo</a>\r\n                    </p>\r\n                    <h6 style={{ float: \"left\" }}>\r\n                      ₪{item.price ? item.price : 0}\r\n                    </h6>\r\n                  </div>\r\n                  <div className=\"card-reveal\">\r\n                    <span className=\"card-title grey-text text-darken-4\">\r\n                      {item.title}\r\n                      <i className=\"material-icons right\">close</i>\r\n                    </span>\r\n                    <p>{item.body}</p>\r\n                  </div>\r\n                </div>\r\n              );\r\n            } else {\r\n              return \"\";\r\n            }\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}